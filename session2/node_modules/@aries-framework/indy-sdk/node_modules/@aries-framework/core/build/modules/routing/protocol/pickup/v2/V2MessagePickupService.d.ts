import type { DeliveryRequestMessage, MessagesReceivedMessage, StatusRequestMessage } from './messages';
import type { InboundMessageContext } from '../../../../../agent/models/InboundMessageContext';
import type { EncryptedMessage } from '../../../../../types';
import { MessageHandlerRegistry } from '../../../../../agent/MessageHandlerRegistry';
import { OutboundMessageContext } from '../../../../../agent/models';
import { MessageRepository } from '../../../../../storage/MessageRepository';
import { MediationRecipientService } from '../../../services';
import { MessageDeliveryMessage, StatusMessage } from './messages';
export declare class V2MessagePickupService {
    private messageRepository;
    private mediationRecipientService;
    constructor(messageRepository: MessageRepository, messageHandlerRegistry: MessageHandlerRegistry, mediationRecipientService: MediationRecipientService);
    processStatusRequest(messageContext: InboundMessageContext<StatusRequestMessage>): Promise<OutboundMessageContext<StatusMessage>>;
    queueMessage(connectionId: string, message: EncryptedMessage): Promise<void>;
    processDeliveryRequest(messageContext: InboundMessageContext<DeliveryRequestMessage>): Promise<OutboundMessageContext<MessageDeliveryMessage | StatusMessage>>;
    processMessagesReceived(messageContext: InboundMessageContext<MessagesReceivedMessage>): Promise<OutboundMessageContext<StatusMessage>>;
    protected registerMessageHandlers(messageHandlerRegistry: MessageHandlerRegistry): void;
}
